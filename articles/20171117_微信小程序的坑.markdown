### 1. ios不支持new Date('2017-11-17 12:20:00')的问题
```
// 不支持
const date = new Date('2017-11-17 12:20:00');
// 支持
const date1 = new Date('2017/11/17 12:20:00');
```
参考地址：https://developers.weixin.qq.com/blogdetail?action=get_post_info&docid=c148160d9d7f24b7e8271778de57864b&highline=Date&token=&lang=zh_CN

### 2. ios不支持webp格式的图片
因为ios不支持，所以小程序在ios端也不支持，注意有些图片是 图片服务器返回的，你保存下来是png格式，但因为链接里带webp，就是webp的图片，这个问题很坑。
参考地址：https://developers.weixin.qq.com/blogdetail?action=get_post_info&docid=fd379c10cc80e3317800ba4d029539bd&highline=webp&token=&lang=zh_CN

### 3. get请求带汉字问题
get请求带汉字，需要先进行url编码，后台接到参数后再url解码。如果是post请求则没有这个问题。另外，header.contentType设置为'application/json'时，会对数据进行json序列化。
设置为'application/x-www-form-urlencoded'会将数据转为query string。对java而言，get请求的参数也是query string的，这样他们可以通用处理get和post请求。

### 4. path带参数为undefined的问题
有时候我们从当前页带参数到下一个页面，如果参数id为undefined，那么下一个页面options.id就是字符串‘undefined’，此时用if去判断，它是true。这个很坑。解决方式是url编码再传，或者再传之前处理undefined问题。

### 5. tab上的path删掉后已分享出去的tab页面如何展示？
比如`tab\cart`分享出去，然后把tab上的cart页面删掉，此时点击已分享出去的`tab\cart`，cart页面会以一般的page展示，也就是说只要配在`pages`里面，他就有页面展示，如果配在`tabBar`上则在tabBar上展示。

### 6. data-areanum
区号，字段定义为驼峰式areaNum
```
<view data-areaNum="010" bindtap="handleTap" />

handleTap(e){
  // e.currentTarget.dataset.areanum 有值为010
  // e.currentTarget.dataset.areaNum 没值为undefined
}
```
看到了什么，在data-自定义属性时，驼峰式不识别。

### 7. 小程序自定义组件的properties
> properties中的数据和data中的数据都会统一放在data中，通过`setData`修改。

> properties中的数据，和react不同，是可以改的。通过`setData`修改。

> observer是再properties的字段改变时的回调，不设置observer，父组件的字段改变，子组件properties也会跟着改，然后刷新页面。

> 相比而言，observer的用处是有新值和旧值，可以做其他处理。

> 其他：properties的字段名用驼峰如myName，wxml中组件props传值用my-name，setData也用驼峰。

### 8. options和JSON.stringify的问题
```
// 第一个页面
const data = {name:'michael',age:15};
 wx.navigateTo({
   url: '/pages/second/index?status=1&data='+JSON.stringify(data),
 })
```
```
// 第二个页面
onLoad: function (options) {
    console.log('---options--',options);
    const status = options.status;
    const data = JSON.parse(options.data);
    console.log('--options--',status,data);
}
```
这样是没问题的，最后打印的是
```
--options-- 1 {name: "michael", age: 15}
```

但如果name中有`&`的符号，就会出错，本质原因是`&`出现在了url的query中。
```
// 第一个页面
const data = { name: 'a&b', age: 15 };
wx.navigateTo({
  url: '/pages/services/order_create/index?status=1&data=' + JSON.stringify(data),
})
```
```
// 第二个页面 同上
```
结果报错，options中的对象就已经错了，如下：
```
{status: "1", data: "{"name":"a", b","age":15}: "undefined"}
```
解决这个问题，就需要使用url编码。js的url编解码如下：
```
// 编码
encodeURIComponent(JSON.stringify(obj));
// 解码
return JSON.parse(decodeURIComponent(str));
```
### 9. 苹果手机video播放视频卡顿绿屏问题
官方回答：加个```custom-cache="{{false}}"```属性，但文档中没有该属性。

参考地址：https://developers.weixin.qq.com/search?action=list&t=search/index&search_type=1&key=custom-cache&token=&lang=zh_CN


### n. [微信小程序常见FAQ](https://developers.weixin.qq.com/blogdetail?action=get_post_info&lang=zh_CN&token=&docid=2fcdb7794d48c59f7624f53e94d0ae22)
